<!DOCTYPE html><html><head><title>Area Scales</title><meta charset="utf-8"><style>body{margin:0}.input-wrapper{display:flex;position:absolute;width:100%;margin:32px 0}.hidden{display:none}.input-wrapper #weights{display:flex;margin:auto;padding:0 4px;height:24px;font-size:18px}.container{display:flex;margin:0;width:100%;height:100%;outline:0}.legend{position:fixed;top:0;left:0;width:400px;background-color:transparent;padding-left:16px;color:#888;font-family:"Ubuntu Mono",monospace;font-size:14px;pointer-events:none}</style></head><body><div id="input-wrapper" class="input-wrapper"><div class="legend" id="legend"></div><input type="text" id="weights" class="ignore" tabindex="0"></div><div class="container" tabindex="0"></div><script type="text/javascript">var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,b,a){e!=Array.prototype&&e!=Object.prototype&&(e[b]=a.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,b,a,c){if(b){a=$jscomp.global;e=e.split(".");for(c=0;c<e.length-1;c++){var f=e[c];f in a||(a[f]={});a=a[f]}e=e[e.length-1];c=a[e];b=b(c);b!=c&&null!=b&&$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Math.log2",function(e){return e?e:function(b){return Math.log(b)/Math.LN2}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var b=0;return $jscomp.iteratorPrototype(function(){return b<e.length?{done:!1,value:e[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.iteratorFromArray=function(e,b){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var a=0,c={next:function(){if(a<e.length){var f=a++;return{value:b(f,e[f]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");$jscomp.owns=function(e,b){return Object.prototype.hasOwnProperty.call(e,b)};$jscomp.polyfill("Object.assign",function(e){return e?e:function(b,a){for(var c=1;c<arguments.length;c++){var f=arguments[c];if(f)for(var h in f)$jscomp.owns(f,h)&&(b[h]=f[h])}return b}},"es6","es3");
(function(e){function b(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};e[c].call(f.exports,f,f.exports,b);f.l=!0;return f.exports}var a={};b.m=e;b.c=a;b.d=function(a,f,h){b.o(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:h})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="/";return b(b.s=46)})([function(e,b,a){function c(d,
a){this._groups=d;this._parents=a}a.d(b,"b",function(){return C});b.a=c;e=a(49);b=a(50);var f=a(51),h=a(52),m=a(27),l=a(54),d=a(55),g=a(56),k=a(57),p=a(58),n=a(59),q=a(60),r=a(61),t=a(62),w=a(63),u=a(64),x=a(29),y=a(65),v=a(66),z=a(67),A=a(68),D=a(69),E=a(70),B=a(71),F=a(72),G=a(73),I=a(74),J=a(75),H=a(18);a=a(76);var C=[null];c.prototype=function(){return new c([[document.documentElement]],C)}.prototype={constructor:c,select:e.a,selectAll:b.a,filter:f.a,data:h.a,enter:m.b,exit:l.a,merge:d.a,order:g.a,
sort:k.a,call:p.a,nodes:n.a,node:q.a,size:r.a,empty:t.a,each:w.a,attr:u.a,style:x.a,property:y.a,classed:v.a,text:z.a,html:A.a,raise:D.a,lower:E.a,append:B.a,insert:F.a,remove:G.a,clone:I.a,datum:J.a,on:H.b,dispatch:a.a}},function(e,b,a){b.a=function(a){return function(){return a}}},function(e,b,a){a(48);a(8);a(77);a(26);var c=a(78);a.d(b,"c",function(){return c.a});a(14);a(15);a(9);var f=a(24);a.d(b,"d",function(){return f.a});a(79);a(0);a(16);a(25);a(29);var h=a(80);a.d(b,"e",function(){return h.a});
a(81);a(17);var m=a(18);a.d(b,"b",function(){return m.c});a.d(b,"a",function(){return m.a})},function(e,b,a){function c(a){return Math.sqrt(a.x*a.x+a.y*a.y)}function f(a,d){return{x:a.x-d.x,y:a.y-d.y}}function h(a,d,h){return function(){for(var l=this,c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];g=function(){d.forEach(function(d){d.bind(l)()})};h?(g(),c=a.apply(void 0,c)):(c=a.apply(void 0,c),g());return c}}b.a=function(a,d,c){return Object(m.a)([a,d,c].map(function(d){return[d.x,d.y]}))};b.g=
function(a,d,c){d=f(d,a);return{x:a.x+d.x*c,y:a.y+d.y*c}};b.e=function(a,d){return a.x*d.x+a.y*d.y};b.d=function(a,d){return c(f(a,d))};b.i=c;b.k=function(a){var d=c(a);if(0===d)return{x:0,y:0};d=1/d;return{x:a.x*d,y:a.y*d}};b.p=f;b.b=function(a,d,c){return Math.max(d,Math.min(c,a))};b.o=function(a,d){return Math.pow(2,(d?1:0)+Math.floor(Math.log2(a)))};b.h=function(a,d,c){return 0>=a&&0>=d&&0>=c&&(0>d||0>c)||0<=a&&0<=d&&0<=c&&(0<d||0<c)};b.f=function(a){a=Object(m.b)(a.map(function(a){return[a.x,
a.y]}));return{x:a[0],y:a[1]}};b.n=function(a,d){var c=a.length;d=(d%c+c)%c;a.unshift.apply(a,a.splice(a.length-d,d))};b.c=function(a,d,c,h){void 0===h&&(h=1);if(a>=d&&a<=c)return a;h=.5*(h-c+d);return a>c?a-c>h?d:c:d-a<h?d:c};b.j=function(a){return a.map(function(a){return a.x+","+a.y}).join(" ")};b.l=function(a,d){return h(a,d,!1)};b.m=function(a,d){return h(a,d,!0)};var m=a(88)},function(e,b,a){var c=a(98);a.d(b,"a",function(){return c.a})},function(e,b,a){a.d(b,"a",function(){return c});a.d(b,
"d",function(){return f});a.d(b,"e",function(){return h});a.d(b,"h",function(){return m});a.d(b,"i",function(){return l});a.d(b,"k",function(){return d});a.d(b,"l",function(){return g});a.d(b,"f",function(){return k});a.d(b,"j",function(){return p});a.d(b,"g",function(){return n});a.d(b,"m",function(){return q});b.b=function(a){return 1<a?0:-1>a?p:Math.acos(a)};b.c=function(a){return 1<=a?n:-1>=a?-n:Math.asin(a)};var c=Math.abs,f=Math.atan2,h=Math.cos,m=Math.max,l=Math.min,d=Math.sin,g=Math.sqrt,
k=1E-12,p=Math.PI,n=p/2,q=2*p},function(e,b,a){b.a=function(a,b){if(1<(g=a.length))for(var c=1,m,l,d=a[b[0]],g,k=d.length;c<g;++c)for(l=d,d=a[b[c]],m=0;m<k;++m)d[m][1]+=d[m][0]=isNaN(l[m][1])?l[m][0]:l[m][1]}},function(e,b,a){b.a=function(a){a=a.length;for(var c=Array(a);0<=--a;)c[a]=a;return c}},function(e,b,a){function c(a){return function(){var d=this.ownerDocument,c=this.namespaceURI;return c===m.b&&d.documentElement.namespaceURI===m.b?d.createElement(a):d.createElementNS(c,a)}}function f(a){return function(){return this.ownerDocument.createElementNS(a.space,
a.local)}}var h=a(14),m=a(15);b.a=function(a){a=Object(h.a)(a);return(a.local?f:c)(a)}},function(e,b,a){b.a=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=b.clientX,c.y=b.clientY,c=c.matrixTransform(a.getScreenCTM().inverse()),[c.x,c.y];c=a.getBoundingClientRect();return[b.clientX-c.left-a.clientLeft,b.clientY-c.top-a.clientTop]}},function(e,b,a){function c(a){this._context=a}c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,c){a=+a;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,c):this._context.moveTo(a,c);break;case 1:this._point=2;default:this._context.lineTo(a,c)}}};b.a=function(a){return new c(a)}},function(e,b,a){b.a=function(){}},function(e,b,a){function c(a,c,l){a._context.bezierCurveTo((2*a._x0+a._x1)/3,
(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+c)/6,(a._y0+4*a._y1+l)/6)}function f(a){this._context=a}b.b=c;b.a=f;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:c(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-
this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:c(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}}},function(e,b,a){function c(a,c,b){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-c),a._y2+a._k*(a._y1-b),
a._x2,a._y2)}function f(a,c){this._context=a;this._k=(1-c)/6}b.b=c;b.a=f;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:c(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;
switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;this._x1=a;this._y1=b;break;case 2:this._point=3;default:c(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};(function m(a){function d(d){return new f(d,a)}d.tension=function(a){return m(+a)};return d})(0)},function(e,b,a){var c=a(15);b.a=function(a){var b=a+="",m=b.indexOf(":");0<=m&&"xmlns"!==(b=a.slice(0,m))&&
(a=a.slice(m+1));return c.a.hasOwnProperty(b)?{space:c.a[b],local:a}:a}},function(e,b,a){a.d(b,"b",function(){return c});var c="http://www.w3.org/1999/xhtml";b.a={svg:"http://www.w3.org/2000/svg",xhtml:c,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,b,a){function c(){}b.a=function(a){return null==a?c:function(){return this.querySelector(a)}}},function(e,b,a){b.a=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||
a.document&&a||a.defaultView}},function(e,b,a){function c(a,d,c){a=f(a,d,c);return function(d){var c=d.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||a.call(this,d)}}function f(a,d,c){return function(k){var b=g;g=k;try{a.call(this,this.__data__,d,c)}finally{g=b}}}function h(a){return a.trim().split(/^|\s+/).map(function(a){var d="",c=a.indexOf(".");0<=c&&(d=a.slice(c+1),a=a.slice(0,c));return{type:a,name:d}})}function m(a){return function(){var d=this.__on;if(d){for(var c=0,k=-1,
b=d.length,l;c<b;++c)(l=d[c],a.type&&l.type!==a.type||l.name!==a.name)?d[++k]=l:this.removeEventListener(l.type,l.listener,l.capture);++k?d.length=k:delete this.__on}}}function l(a,b,l){var k=d.hasOwnProperty(a.type)?c:f;return function(d,c,g){d=this.__on;var h;c=k(b,c,g);if(d){g=0;for(var m=d.length;g<m;++g)if((h=d[g]).type===a.type&&h.name===a.name){this.removeEventListener(h.type,h.listener,h.capture);this.addEventListener(h.type,h.listener=c,h.capture=l);h.value=b;return}}this.addEventListener(a.type,
c,l);h={type:a.type,name:a.name,value:b,listener:c,capture:l};d?d.push(h):this.__on=[h]}}a.d(b,"c",function(){return g});b.a=function(a,d,c,b){var k=g;a.sourceEvent=g;g=a;try{return d.apply(c,b)}finally{g=k}};var d={},g=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(d={mouseenter:"mouseover",mouseleave:"mouseout"}));b.b=function(a,d,c){var b,k=h(a+""),g=k.length,f;if(2>arguments.length){if(b=this.node().__on)for(var p=0,n=b.length,e;p<n;++p){var v=0;for(e=b[p];v<
g;++v)if((f=k[v]).type===e.type&&f.name===e.name)return e.value}}else{b=d?l:m;null==c&&(c=!1);for(v=0;v<g;++v)this.each(b(k[v],d,c));return this}}},function(e,b,a){var c=a(18);b.a=function(){for(var a=c.c,b;b=a.sourceEvent;)a=b;return a}},function(e,b,a){var c=a(4),f=a(1),h=a(10),m=a(21);b.a=function(){function a(a){var l,g=a.length,h,m=!1,f;null==p&&(e=n(f=Object(c.a)()));for(l=0;l<=g;++l)!(l<g&&k(h=a[l],l,a))===m&&((m=!m)?e.lineStart():e.lineEnd()),m&&e.point(+d(h,l,a),+b(h,l,a));if(f)return e=
null,f+""||null}var d=m.a,b=m.b,k=Object(f.a)(!0),p=null,n=h.a,e=null;a.x=function(c){return arguments.length?(d="function"===typeof c?c:Object(f.a)(+c),a):d};a.y=function(d){return arguments.length?(b="function"===typeof d?d:Object(f.a)(+d),a):b};a.defined=function(d){return arguments.length?(k="function"===typeof d?d:Object(f.a)(!!d),a):k};a.curve=function(d){return arguments.length?(n=d,null!=p&&(e=n(p)),a):n};a.context=function(d){return arguments.length?(null==d?p=e=null:e=n(p=d),a):p};return a}},
function(e,b,a){b.a=function(a){return a[0]};b.b=function(a){return a[1]}},function(e,b,a){function c(a,d,c){var b=a._x1,g=a._y1,m=a._x2,l=a._y2;if(a._l01_a>h.f){var f=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,e=3*a._l01_a*(a._l01_a+a._l12_a);b=(b*f-a._x0*a._l12_2a+a._x2*a._l01_2a)/e;g=(g*f-a._y0*a._l12_2a+a._y2*a._l01_2a)/e}a._l23_a>h.f&&(f=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,e=3*a._l23_a*(a._l23_a+a._l12_a),m=(m*f+a._x1*a._l23_2a-d*a._l12_2a)/e,l=(l*f+a._y1*a._l23_2a-c*a._l12_2a)/e);a._context.bezierCurveTo(b,
g,m,l,a._x2,a._y2)}function f(a,d){this._context=a;this._alpha=d}b.a=c;var h=a(5),m=a(13);f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,d){a=+a;d=+d;if(this._point){var b=this._x2-a,k=this._y2-d;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(b*b+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,d):this._context.moveTo(a,d);break;case 1:this._point=2;break;case 2:this._point=3;default:c(this,a,d)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;
this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=d}};(function d(a){function c(d){return a?new f(d,a):new m.a(d,0)}c.alpha=function(a){return d(+a)};return c})(.5)},function(e,b,a){function c(a){for(var c=0,b=-1,d=a.length,g;++b<d;)if(g=+a[b][1])c+=g;return c}b.b=c;var f=a(7);b.a=function(a){var b=a.map(c);return Object(f.a)(a).sort(function(a,d){return b[a]-b[d]})}},function(e,b,a){var c=a(0);b.a=function(a){return"string"===typeof a?new c.a([[document.querySelector(a)]],
[document.documentElement]):new c.a([[a]],c.b)}},function(e,b,a){function c(){return[]}b.a=function(a){return null==a?c:function(){return this.querySelectorAll(a)}}},function(e,b,a){e=function(a){return function(){return this.matches(a)}};if("undefined"!==typeof document&&(a=document.documentElement,!a.matches)){var c=a.webkitMatchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector;e=function(a){return function(){return c.call(this,a)}}}b.a=e},function(e,b,a){function c(a,c){this.ownerDocument=
a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=c}b.a=c;var f=a(28),h=a(0);b.b=function(){return new h.a(this._enter||this._groups.map(f.a),this._parents)};c.prototype={constructor:c,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,c){return this._parent.insertBefore(a,c)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}}},
function(e,b,a){b.a=function(a){return Array(a.length)}},function(e,b,a){function c(a){return function(){this.style.removeProperty(a)}}function f(a,d,c){return function(){this.style.setProperty(a,d,c)}}function h(a,d,c){return function(){var b=d.apply(this,arguments);null==b?this.style.removeProperty(a):this.style.setProperty(a,b,c)}}var m=a(17);b.a=function(a,d,b){if(1<arguments.length)var k=this.each((null==d?c:"function"===typeof d?h:f)(a,d,null==b?"":b));else k=this.node(),k=k.style.getPropertyValue(a)||
Object(m.a)(k).getComputedStyle(k,null).getPropertyValue(a);return k}},function(e,b,a){b.b=function(a,b){var h=a.document.documentElement,d=Object(c.d)(a).on("dragstart.drag",null);b&&(d.on("click.drag",f.a,!0),setTimeout(function(){d.on("click.drag",null)},0));if("onselectstart"in h)d.on("selectstart.drag",null);else h.style.MozUserSelect=h.__noselect,delete h.__noselect};var c=a(2),f=a(31);b.a=function(a){var b=a.document.documentElement;a=Object(c.d)(a).on("dragstart.drag",f.a,!0);if("onselectstart"in
b)a.on("selectstart.drag",f.a,!0);else b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none"}},function(e,b,a){b.b=function(){c.b.stopImmediatePropagation()};var c=a(2);b.a=function(){c.b.preventDefault();c.b.stopImmediatePropagation()}},function(e,b,a){var c=a(4),f=a(1),h=a(10),m=a(20),l=a(21);b.a=function(){function a(a){var d,b,h=a.length,g,m=!1,f,l=Array(h),q=Array(h);null==t&&(u=w(f=Object(c.a)()));for(d=0;d<=h;++d){if(!(d<h&&r(g=a[d],d,a))===m)if(m=!m){var x=d;u.areaStart();u.lineStart()}else{u.lineEnd();
u.lineStart();for(b=d-1;b>=x;--b)u.point(l[b],q[b]);u.lineEnd();u.areaEnd()}m&&(l[d]=+k(g,d,a),q[d]=+n(g,d,a),u.point(p?+p(g,d,a):l[d],e?+e(g,d,a):q[d]))}if(f)return u=null,f+""||null}function b(){return Object(m.a)().defined(r).curve(w).context(t)}var k=l.a,p=null,n=Object(f.a)(0),e=l.b,r=Object(f.a)(!0),t=null,w=h.a,u=null;a.x=function(d){return arguments.length?(k="function"===typeof d?d:Object(f.a)(+d),p=null,a):k};a.x0=function(d){return arguments.length?(k="function"===typeof d?d:Object(f.a)(+d),
a):k};a.x1=function(d){return arguments.length?(p=null==d?null:"function"===typeof d?d:Object(f.a)(+d),a):p};a.y=function(d){return arguments.length?(n="function"===typeof d?d:Object(f.a)(+d),e=null,a):n};a.y0=function(d){return arguments.length?(n="function"===typeof d?d:Object(f.a)(+d),a):n};a.y1=function(d){return arguments.length?(e=null==d?null:"function"===typeof d?d:Object(f.a)(+d),a):e};a.lineX0=a.lineY0=function(){return b().x(k).y(n)};a.lineY1=function(){return b().x(k).y(e)};a.lineX1=function(){return b().x(p).y(n)};
a.defined=function(d){return arguments.length?(r="function"===typeof d?d:Object(f.a)(!!d),a):r};a.curve=function(d){return arguments.length?(w=d,null!=t&&(u=w(t)),a):w};a.context=function(d){return arguments.length?(null==d?t=u=null:u=w(t=d),a):t};return a}},function(e,b,a){function c(a){this._curve=a}function f(a){function b(d){return new c(a(d))}b._curve=a;return b}a.d(b,"a",function(){return h});b.b=f;e=a(10);var h=f(e.a);c.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},
lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,c){this._curve.point(c*Math.sin(a),c*-Math.cos(a))}}},function(e,b,a){b.a=function(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(Object(c.b)(a)):b()._curve};return a};var c=a(33);a(20)},function(e,b,a){b.a=function(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}},function(e,b,a){a.d(b,"a",function(){return c});var c=Array.prototype.slice},
function(e,b,a){var c=a(5);b.a={draw:function(a,b){b=Math.sqrt(b/c.j);a.moveTo(b,0);a.arc(0,0,b,0,c.m)}}},function(e,b,a){b.a={draw:function(a,b){b=Math.sqrt(b/5)/2;a.moveTo(-3*b,-b);a.lineTo(-b,-b);a.lineTo(-b,-3*b);a.lineTo(b,-3*b);a.lineTo(b,-b);a.lineTo(3*b,-b);a.lineTo(3*b,b);a.lineTo(b,b);a.lineTo(b,3*b);a.lineTo(-b,3*b);a.lineTo(-b,b);a.lineTo(-3*b,b);a.closePath()}}},function(e,b,a){var c=Math.sqrt(1/3),f=2*c;b.a={draw:function(a,b){b=Math.sqrt(b/f);var h=b*c;a.moveTo(0,-b);a.lineTo(h,0);
a.lineTo(0,b);a.lineTo(-h,0);a.closePath()}}},function(e,b,a){var c=a(5);e=Math.sin(c.j/10)/Math.sin(7*c.j/10);var f=Math.sin(c.m/10)*e,h=-Math.cos(c.m/10)*e;b.a={draw:function(a,b){b=Math.sqrt(.8908130915292852*b);var d=f*b,g=h*b;a.moveTo(0,-b);a.lineTo(d,g);for(var k=1;5>k;++k){var m=c.m*k/5,l=Math.cos(m);m=Math.sin(m);a.lineTo(m*b,-l*b);a.lineTo(l*d-m*g,m*d+l*g)}a.closePath()}}},function(e,b,a){b.a={draw:function(a,b){b=Math.sqrt(b);var c=-b/2;a.rect(c,c,b,b)}}},function(e,b,a){var c=Math.sqrt(3);
b.a={draw:function(a,b){b=-Math.sqrt(b/(3*c));a.moveTo(0,2*b);a.lineTo(-c*b,-b);a.lineTo(c*b,-b);a.closePath()}}},function(e,b,a){var c=Math.sqrt(3)/2,f=1/Math.sqrt(12),h=3*(f/2+1);b.a={draw:function(a,b){var d=Math.sqrt(b/h);b=d/2;var g=d*f;d=d*f+d;var k=-b;a.moveTo(b,g);a.lineTo(b,d);a.lineTo(k,d);a.lineTo(-.5*b-c*g,c*b+-.5*g);a.lineTo(-.5*b-c*d,c*b+-.5*d);a.lineTo(-.5*k-c*d,c*k+-.5*d);a.lineTo(-.5*b+c*g,-.5*g-c*b);a.lineTo(-.5*b+c*d,-.5*d-c*b);a.lineTo(-.5*k+c*d,-.5*d-c*k);a.closePath()}}},function(e,
b,a){function c(a,b){this._context=a;this._k=(1-b)/6}b.a=c;e=a(11);var f=a(13);c.prototype={areaStart:e.a,areaEnd:e.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=b;break;default:Object(f.b)(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};(function m(a){function d(d){return new c(d,a)}d.tension=function(a){return m(+a)};return d})(0)},function(e,b,a){function c(a,
b){this._context=a;this._k=(1-b)/6}b.a=c;var f=a(13);c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(f.b)(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};(function m(a){function d(d){return new c(d,a)}d.tension=function(a){return m(+a)};return d})(0)},function(e,b,a){Object.defineProperty(b,"__esModule",{value:!0});new (a(47).a)(".container")},function(e,b,a){a.d(b,"a",function(){return k});var c=a(2),f=a(82),h=a(3),m=a(95),l=a(122),d=a(123),g=a(124),
k=function(){function a(a){this.parentSelector=a;this.constrain=!1;this.drawPoints=!0;this.drawPolygons=!1;this.ratio=.5;this.frameVertexCount=4;this.weightPresets="2 12 8 4";this.alphaPresets="0.11 0.087 0.115";this.setup();this.resize();this.updateFrame();this.regionManager=Object(g.a)(this.frame);this.regionManager.setWeights(this.weights);var d=this.stringToNumbers(this.alphaPresets);this.regionManager.updateAlphas(function(a,b){return d[b]});this.updateView();this.updateView()}a.prototype.inputVisible=
function(a){var d=document.getElementById("input-wrapper");a?d.classList.remove("hidden"):d.classList.add("hidden")};a.prototype.updateView=function(){var a=this.view.render(this.regionManager.getGeometry(),{drawPolygons:this.drawPolygons,drawPoints:this.drawPoints,frame:this.frame});this.circlesU=a[0];this.circlesUb=a[1];this.circlesV=a[2];this.drag(this.circlesU,!1);this.drag(this.circlesUb,!1);this.drag(this.circlesV,!0)};a.prototype.addLegendItem=function(a){var d=document.getElementById("legend"),
b=document.createElement("p");b.appendChild(document.createTextNode(a));d.appendChild(b)};a.prototype.setWeights=function(a){this.regionManager.setWeights(a)};a.prototype.setup=function(){var a=this;this.view=new m.a(this.parentSelector);document.getElementById("weights").addEventListener("change",function(d){a.weights=a.stringToNumbers(d.target.value.replace(/[^0-9.]+/g," ")).filter(function(a){return 0<a});0===a.weights.length&&a.weights.push(1);a.weightsInput.value=a.weights.join(" ");a.regionManager.setWeights(a.weights);
a.updateView()});var b=new d.a(this,l.a);b.helpTexts.forEach(function(d){d&&a.addLegendItem(d)});c.d(window).on("resize",function(){a.resize();a.updateView()});c.d("body").on("keydown",function(){if(!c.b.target.classList.contains("ignore")||"Escape"===c.b.code){var d=c.b;13!==(d.which||d.keyCode)&&b.processKey(c.b);a.updateView()}}).on("keyup",function(){if(!c.b.target.classList.contains("ignore")||"Escape"===c.b.code){var a=c.b;13===(a.which||a.keyCode)&&b.processKey(c.b)}});this.weightsInput=document.getElementById("weights");
this.weightsInput.value=this.weightPresets;this.weights=this.stringToNumbers(this.weightsInput.value)};a.prototype.stringToNumbers=function(a){return a.split(/\s+/).filter(function(a){return 0<a.length}).map(function(a){return parseFloat(a)})};a.prototype.drag=function(a,d){var b=this;f.a().on("drag",function(a,k){var g={x:c.b.x,y:c.b.y};k=!b.constrain||0===k||d?a.cut.region.radialProject(g):a.cut.region.project(g);k=a.cut.region.toAlpha(k);d&&(k=-k);b.regionManager.setAlpha(a.index,k);b.updateView()})(a)};
a.prototype.resize=function(){var a=document.getElementById("weights"),d=window.innerWidth,b=window.innerHeight;this.frameWidth=.4*Math.min(d,b);this.frameHeight=this.frameWidth*this.ratio;a.style.width=this.frameWidth+"px";this.view.resize(d,b,this.frameWidth,this.frameHeight)};a.prototype.updateFrame=function(){this.frame=[];for(var a=this.frameVertexCount,d=Math.PI*(.5+1/a),b=0;b<a;++b){var c=2*Math.PI*b/a+d;this.frame.push({x:(.5+Math.cos(c))*this.frameWidth,y:(.5+Math.sin(c))*this.frameHeight})}Object(h.n)(this.frame,
-2);this.frame.reverse()};return a}()},function(e,b,a){a(8);a(24)},function(e,b,a){var c=a(0),f=a(16);b.a=function(a){"function"!==typeof a&&(a=Object(f.a)(a));for(var b=this._groups,h=b.length,d=Array(h),g=0;g<h;++g)for(var k=b[g],e=k.length,n=d[g]=Array(e),q,r,t=0;t<e;++t)(q=k[t])&&(r=a.call(q,q.__data__,t,k))&&("__data__"in q&&(r.__data__=q.__data__),n[t]=r);return new c.a(d,this._parents)}},function(e,b,a){var c=a(0),f=a(25);b.a=function(a){"function"!==typeof a&&(a=Object(f.a)(a));for(var b=
this._groups,h=b.length,d=[],g=[],k=0;k<h;++k)for(var e=b[k],n=e.length,q,r=0;r<n;++r)if(q=e[r])d.push(a.call(q,q.__data__,r,e)),g.push(q);return new c.a(d,g)}},function(e,b,a){var c=a(0),f=a(26);b.a=function(a){"function"!==typeof a&&(a=Object(f.a)(a));for(var b=this._groups,h=b.length,d=Array(h),g=0;g<h;++g)for(var k=b[g],e=k.length,n=d[g]=[],q,r=0;r<e;++r)(q=k[r])&&a.call(q,q.__data__,r,k)&&n.push(q);return new c.a(d,this._parents)}},function(e,b,a){function c(a,b,c,h,e,l){for(var d=0,k,g=b.length,
f=l.length;d<f;++d)(k=b[d])?(k.__data__=l[d],h[d]=k):c[d]=new m.a(a,l[d]);for(;d<g;++d)if(k=b[d])e[d]=k}function f(a,b,c,h,e,l,f){var d,k,g={},p=b.length,n=l.length,q=Array(p),r;for(d=0;d<p;++d)if(k=b[d])q[d]=r="$"+f.call(k,k.__data__,d,b),r in g?e[d]=k:g[r]=k;for(d=0;d<n;++d)r="$"+f.call(a,l[d],d,l),(k=g[r])?(h[d]=k,k.__data__=l[d],g[r]=null):c[d]=new m.a(a,l[d]);for(d=0;d<p;++d)(k=b[d])&&g[q[d]]===k&&(e[d]=k)}var h=a(0),m=a(27),l=a(53);b.a=function(a,b){if(!a){var d=Array(this.size());x=-1;this.each(function(a){d[++x]=
a});return d}var g=b?f:c,e=this._parents,m=this._groups;"function"!==typeof a&&(a=Object(l.a)(a));for(var r=m.length,t=Array(r),w=Array(r),u=Array(r),x=0;x<r;++x){var y=e[x],v=m[x],z=v.length;d=a.call(y,y&&y.__data__,x,e);var A=d.length,D=w[x]=Array(A),E=t[x]=Array(A);z=u[x]=Array(z);g(y,v,D,E,z,d,b);v=y=0;for(var B;y<A;++y)if(z=D[y]){for(y>=v&&(v=y+1);!(B=E[v])&&++v<A;);z._next=B||null}}t=new h.a(t,e);t._enter=w;t._exit=u;return t}},function(e,b,a){b.a=function(a){return function(){return a}}},function(e,
b,a){var c=a(28),f=a(0);b.a=function(){return new f.a(this._exit||this._groups.map(c.a),this._parents)}},function(e,b,a){var c=a(0);b.a=function(a){var b=this._groups;a=a._groups;for(var e=b.length,l=Math.min(e,a.length),d=Array(e),g=0;g<l;++g)for(var k=b[g],f=a[g],n=k.length,q=d[g]=Array(n),r,t=0;t<n;++t)if(r=k[t]||f[t])q[t]=r;for(;g<e;++g)d[g]=b[g];return new c.a(d,this._parents)}},function(e,b,a){b.a=function(){for(var a=this._groups,b=-1,h=a.length;++b<h;)for(var e=a[b],l=e.length-1,d=e[l],g;0<=
--l;)if(g=e[l])d&&d!==g.nextSibling&&d.parentNode.insertBefore(g,d),d=g;return this}},function(e,b,a){function c(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var f=a(0);b.a=function(a){function b(d,b){return d&&b?a(d.__data__,b.__data__):!d-!b}a||(a=c);for(var h=this._groups,d=h.length,g=Array(d),k=0;k<d;++k){for(var e=h[k],n=e.length,q=g[k]=Array(n),r,t=0;t<n;++t)if(r=e[t])q[t]=r;q.sort(b)}return(new f.a(g,this._parents)).order()}},function(e,b,a){b.a=function(){var a=arguments[0];arguments[0]=this;a.apply(null,
arguments);return this}},function(e,b,a){b.a=function(){var a=Array(this.size()),b=-1;this.each(function(){a[++b]=this});return a}},function(e,b,a){b.a=function(){for(var a=this._groups,b=0,h=a.length;b<h;++b)for(var e=a[b],l=0,d=e.length;l<d;++l){var g=e[l];if(g)return g}return null}},function(e,b,a){b.a=function(){var a=0;this.each(function(){++a});return a}},function(e,b,a){b.a=function(){return!this.node()}},function(e,b,a){b.a=function(a){for(var b=this._groups,c=0,e=b.length;c<e;++c)for(var l=
b[c],d=0,g=l.length,k;d<g;++d)(k=l[d])&&a.call(k,k.__data__,d,l);return this}},function(e,b,a){function c(a){return function(){this.removeAttribute(a)}}function f(a){return function(){this.removeAttributeNS(a.space,a.local)}}function h(a,d){return function(){this.setAttribute(a,d)}}function m(a,d){return function(){this.setAttributeNS(a.space,a.local,d)}}function l(a,d){return function(){var b=d.apply(this,arguments);null==b?this.removeAttribute(a):this.setAttribute(a,b)}}function d(a,d){return function(){var b=
d.apply(this,arguments);null==b?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,b)}}var g=a(14);b.a=function(a,b){var k=Object(g.a)(a);if(2>arguments.length){var e=this.node();return k.local?e.getAttributeNS(k.space,k.local):e.getAttribute(k)}return this.each((null==b?k.local?f:c:"function"===typeof b?k.local?d:l:k.local?m:h)(k,b))}},function(e,b,a){function c(a){return function(){delete this[a]}}function f(a,b){return function(){this[a]=b}}function h(a,b){return function(){var d=
b.apply(this,arguments);null==d?delete this[a]:this[a]=d}}b.a=function(a,b){return 1<arguments.length?this.each((null==b?c:"function"===typeof b?h:f)(a,b)):this.node()[a]}},function(e,b,a){function c(a){return a.classList||new f(a)}function f(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function h(a,d){a=c(a);for(var b=-1,k=d.length;++b<k;)a.add(d[b])}function m(a,d){a=c(a);for(var b=-1,k=d.length;++b<k;)a.remove(d[b])}function l(a){return function(){h(this,a)}}
function d(a){return function(){m(this,a)}}function g(a,d){return function(){(d.apply(this,arguments)?h:m)(this,a)}}f.prototype={add:function(a){0>this._names.indexOf(a)&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){a=this._names.indexOf(a);0<=a&&(this._names.splice(a,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return 0<=this._names.indexOf(a)}};b.a=function(a,b){var k=(a+"").trim().split(/^|\s+/);if(2>arguments.length){for(var e=
c(this.node()),h=-1,f=k.length;++h<f;)if(!e.contains(k[h]))return!1;return!0}return this.each(("function"===typeof b?g:b?l:d)(k,b))}},function(e,b,a){function c(){this.textContent=""}function f(a){return function(){this.textContent=a}}function h(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}b.a=function(a){return arguments.length?this.each(null==a?c:("function"===typeof a?h:f)(a)):this.node().textContent}},function(e,b,a){function c(){this.innerHTML=""}function f(a){return function(){this.innerHTML=
a}}function h(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}b.a=function(a){return arguments.length?this.each(null==a?c:("function"===typeof a?h:f)(a)):this.node().innerHTML}},function(e,b,a){function c(){this.nextSibling&&this.parentNode.appendChild(this)}b.a=function(){return this.each(c)}},function(e,b,a){function c(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}b.a=function(){return this.each(c)}},function(e,b,a){var c=a(8);
b.a=function(a){var b="function"===typeof a?a:Object(c.a)(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})}},function(e,b,a){function c(){return null}var f=a(8),h=a(16);b.a=function(a,b){var d="function"===typeof a?a:Object(f.a)(a),g=null==b?c:"function"===typeof b?b:Object(h.a)(b);return this.select(function(){return this.insertBefore(d.apply(this,arguments),g.apply(this,arguments)||null)})}},function(e,b,a){function c(){var a=this.parentNode;a&&a.removeChild(this)}
b.a=function(){return this.each(c)}},function(e,b,a){function c(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function f(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}b.a=function(a){return this.select(a?f:c)}},function(e,b,a){b.a=function(a){return arguments.length?this.property("__data__",a):this.node().__data__}},function(e,b,a){function c(a,d,b){var c=Object(m.a)(a),g=c.CustomEvent;"function"===typeof g?g=new g(d,b):(g=c.document.createEvent("Event"),
b?(g.initEvent(d,b.bubbles,b.cancelable),g.detail=b.detail):g.initEvent(d,!1,!1));a.dispatchEvent(g)}function f(a,b){return function(){return c(this,a,b)}}function h(a,b){return function(){return c(this,a,b.apply(this,arguments))}}var m=a(17);b.a=function(a,b){return this.each(("function"===typeof b?h:f)(a,b))}},function(e,b,a){function c(){this._="@"+(++f).toString(36)}var f=0;c.prototype=function(){return new c}.prototype={constructor:c,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;
return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}}},function(e,b,a){var c=a(19),f=a(9);b.a=function(a){var b=Object(c.a)();b.changedTouches&&(b=b.changedTouches[0]);return Object(f.a)(a,b)}},function(e,b,a){a(0)},function(e,b,a){var c=a(19),f=a(9);b.a=function(a,b,e){3>arguments.length&&(e=b,b=Object(c.a)().changedTouches);for(var d=0,g=b?b.length:0,k;d<g;++d)if((k=b[d]).identifier===e)return Object(f.a)(a,
k);return null}},function(e,b,a){a(19);a(9)},function(e,b,a){var c=a(83);a.d(b,"a",function(){return c.a});a(30)},function(e,b,a){function c(){return!d.b.button}function f(){return this.parentNode}function h(a){return null==a?{x:d.b.x,y:d.b.y}:a}function m(){return"ontouchstart"in this}var l=a(84),d=a(2),g=a(30),k=a(31),p=a(86),n=a(87);b.a=function(){function a(a){a.on("mousedown.drag",b).filter(E).on("touchstart.drag",u).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",y).style("touch-action",
"none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(){if(!C&&z.apply(this,arguments)){var a=v("mouse",A.apply(this,arguments),d.c,this,arguments);a&&(Object(d.d)(d.b.view).on("mousemove.drag",e,!0).on("mouseup.drag",w,!0),Object(g.a)(d.b.view),Object(k.b)(),H=!1,I=d.b.clientX,J=d.b.clientY,a("start"))}}function e(){Object(k.a)();if(!H){var a=d.b.clientX-I,b=d.b.clientY-J;H=a*a+b*b>K}B.mouse("drag")}function w(){Object(d.d)(d.b.view).on("mousemove.drag mouseup.drag",null);Object(g.b)(d.b.view,
H);Object(k.a)();B.mouse("end")}function u(){if(z.apply(this,arguments)){var a=d.b.changedTouches,b=A.apply(this,arguments),c=a.length,g,e;for(g=0;g<c;++g)if(e=v(a[g].identifier,b,d.e,this,arguments))Object(k.b)(),e("start")}}function x(){var a=d.b.changedTouches,b=a.length,c,g;for(c=0;c<b;++c)if(g=B[a[c].identifier])Object(k.a)(),g("drag")}function y(){var a=d.b.changedTouches,b=a.length,c,g;C&&clearTimeout(C);C=setTimeout(function(){C=null},500);for(c=0;c<b;++c)if(g=B[a[c].identifier])Object(k.b)(),
g("end")}function v(b,c,g,k,e){var h=g(c,b),f,l,p,m=F.copy();if(Object(d.a)(new n.a(a,"beforestart",f,b,G,h[0],h[1],0,0,m),function(){if(null==(d.b.subject=f=D.apply(k,e)))return!1;l=f.x-h[0]||0;p=f.y-h[1]||0;return!0}))return function L(q){var r=h;switch(q){case "start":B[b]=L;var u=G++;break;case "end":delete B[b],--G;case "drag":h=g(c,b),u=G}Object(d.a)(new n.a(a,q,f,b,u,h[0]+l,h[1]+p,h[0]-r[0],h[1]-r[1],m),m.apply,m,[q,k,e])}}var z=c,A=f,D=h,E=m,B={},F=Object(l.a)("start","drag","end"),G=0,I,
J,H,C,K=0;a.filter=function(b){return arguments.length?(z="function"===typeof b?b:Object(p.a)(!!b),a):z};a.container=function(b){return arguments.length?(A="function"===typeof b?b:Object(p.a)(b),a):A};a.subject=function(b){return arguments.length?(D="function"===typeof b?b:Object(p.a)(b),a):D};a.touchable=function(b){return arguments.length?(E="function"===typeof b?b:Object(p.a)(!!b),a):E};a.on=function(){var b=F.on.apply(F,arguments);return b===F?a:b};a.clickDistance=function(b){return arguments.length?
(K=(b=+b)*b,a):Math.sqrt(K)};return a}},function(e,b,a){var c=a(85);a.d(b,"a",function(){return c.a})},function(e,b,a){function c(){for(var a=0,b=arguments.length,c={},e;a<b;++a){if(!(e=arguments[a]+"")||e in c)throw Error("illegal type: "+e);c[e]=[]}return new f(c)}function f(a){this._=a}function h(a,b){return a.trim().split(/^|\s+/).map(function(a){var d="",c=a.indexOf(".");0<=c&&(d=a.slice(c+1),a=a.slice(0,c));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:d}})}function m(a,
b,c){for(var d=0,g=a.length;d<g;++d)if(a[d].name===b){a[d]=l;a=a.slice(0,d).concat(a.slice(d+1));break}null!=c&&a.push({name:b,value:c});return a}var l={value:function(){}};f.prototype=c.prototype={constructor:f,on:function(a,b){var d=this._,c=h(a+"",d),g,e=-1,f=c.length;if(2>arguments.length)for(;++e<f;){var l;if(l=g=(a=c[e]).type){a:{l=d[g];for(var w=0,u=l.length;w<u;++w)if((g=l[w]).name===a.name){g=g.value;break a}g=void 0}l=g}if(l)return g}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+
b);for(;++e<f;)if(g=(a=c[e]).type)d[g]=m(d[g],a.name,b);else if(null==b)for(g in d)d[g]=m(d[g],a.name,null);return this}},copy:function(){var a={},b=this._,c;for(c in b)a[c]=b[c].slice();return new f(a)},call:function(a,b){if(0<(g=arguments.length-2))for(var d=Array(g),c=0,g,e;c<g;++c)d[c]=arguments[c+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);e=this._[a];c=0;for(g=e.length;c<g;++c)e[c].value.apply(b,d)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+
a);a=this._[a];for(var d=0,g=a.length;d<g;++d)a[d].value.apply(b,c)}};b.a=c},function(e,b,a){b.a=function(a){return function(){return a}}},function(e,b,a){function c(a,b,c,e,d,g,k,p,n,q){this.target=a;this.type=b;this.subject=c;this.identifier=e;this.active=d;this.x=g;this.y=k;this.dx=p;this.dy=n;this._=q}b.a=c;c.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a}},function(e,b,a){var c=a(89);a.d(b,"a",function(){return c.a});var f=a(90);a.d(b,"b",function(){return f.a});
a(91);a(93);a(94)},function(e,b,a){b.a=function(a){for(var b=-1,c=a.length,e,l=a[c-1],d=0;++b<c;)e=l,l=a[b],d+=e[1]*l[0]-e[0]*l[1];return d/2}},function(e,b,a){b.a=function(a){for(var b=-1,c=a.length,e=0,l=0,d,g=a[c-1],k,p=0;++b<c;)d=g,g=a[b],p+=k=d[0]*g[1]-g[0]*d[1],e+=(d[0]+g[0])*k,l+=(d[1]+g[1])*k;return p*=3,[e/p,l/p]}},function(e,b,a){a(92)},function(e,b,a){b.a=function(a,b,e){return(b[0]-a[0])*(e[1]-a[1])-(b[1]-a[1])*(e[0]-a[0])}},function(e,b,a){},function(e,b,a){},function(e,b,a){a.d(b,"a",
function(){return d});var c=a(96),f=a(2),h=a(3),m="#e41a1c #377eb8 #4daf4a #984ea3 #ff7f00 #ffff33 #a65628 #f781bf #999999".split(" "),l=function(a){return 0===a?"#fff":m[(a-1)%m.length]},d=function(){function a(a){this.parentSelector=a;this.svg=f.d(a).append("svg").attr("class","svg-element").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink");this.bg=this.svg.append("rect").attr("width",""+window.innerWidth).attr("height",""+window.innerHeight);
this.container=this.svg.append("g").attr("class","contentContainer");this.frameContainer=this.makeContainer("frameContainer");this.areasContainer=this.makeContainer("areasContainer");this.linesContainer=this.makeContainer("linesContainer");this.circlesContainer=this.makeContainer("circlesContainer")}a.prototype.makeContainer=function(a){return this.container.append("g").attr("class",a)};a.prototype.resize=function(a,b,d,c){this.svg.attr("width",""+a).attr("height",""+b);this.bg.attr("width",""+a).attr("height",
""+b);this.container.attr("transform","translate("+.5*(a-d)+","+.48*(b-c)+")")};a.prototype.render=function(a,b){this.renderFrame(b.drawPolygons?"":Object(h.j)(b.frame));this.renderPolygons(b.drawPolygons?a:[]);a=a.slice(0,a.length-1);this.renderLines(b.drawPolygons?[]:a);var d=b.drawPoints?a:[];a=this.renderCircles("knob-a",1,function(a,b){return l(b)},function(a){return a.cut.a.x},function(a){return a.cut.a.y},d);b=this.renderCircles("knob-c",.3,"black",function(a){return a.cut.a.x},function(a){return a.cut.a.y},
d);d=this.renderCircles("knob-b",1,function(a,b){return l(b)},function(a){return a.cut.b.x},function(a){return a.cut.b.y},d);return[a,b,d]};a.prototype.renderCircles=function(a,b,d,c,g,e){e=this.circlesContainer.selectAll("."+a).data(e);e.exit().remove();return e.enter().append("circle").attr("class",a).attr("fill",d).attr("stroke","#282828").attr("stroke-width","0.25").merge(e).attr("r",6*b).attr("cx",c).attr("cy",g)};a.prototype.renderPolygons=function(a){a=this.areasContainer.selectAll(".area").data(a);
a.exit().remove();a.enter().append("polygon").attr("fill",function(a,b){return l(b)}).attr("class","area").merge(a).attr("stroke",function(a,b){return l(b)}).attr("points",function(a){return Object(h.j)(a.points)})};a.prototype.renderFrame=function(a){var b=this.frameContainer.selectAll(".bounds").data([a]);b.exit().remove();b.enter().append("polygon").attr("fill","none").attr("class","bounds").merge(b).attr("stroke-width","1.33").attr("stroke","#222").attr("points",a)};a.prototype.renderLines=function(a){a=
this.linesContainer.selectAll(".segment").data(a);a.exit().remove();a.enter().append("path").attr("stroke",function(a,b){return l(b)}).attr("class","segment").merge(a).attr("stroke-width","1.25").attr("d",function(a){return c.a()([[a.cut.a.x,a.cut.a.y],[a.cut.b.x,a.cut.b.y]])})};return a}()},function(e,b,a){a(97);a(32);var c=a(20);a.d(b,"a",function(){return c.a});a(99);a(102);a(34);a(35);a(103);a(104);a(37);a(38);a(39);a(41);a(40);a(42);a(43);a(105);a(106);a(12);a(107);a(44);a(45);a(13);a(108);a(109);
a(22);a(110);a(10);a(111);a(112);a(113);a(114);a(115);a(116);a(6);a(117);a(118);a(23);a(119);a(120);a(7);a(121)},function(e,b,a){a(4);a(1);a(5)},function(e,b,a){function c(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function f(){return new c}var h=Math.PI,m=2*h,l=m-1E-6;c.prototype=f.prototype={constructor:c,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,
b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,e){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+e)},bezierCurveTo:function(a,b,c,e,h,l){this._+="C"+ +a+","+ +b+","+ +c+","+ +e+","+(this._x1=+h)+","+(this._y1=+l)},arcTo:function(a,b,c,e,l){a=+a;b=+b;c=+c;e=+e;l=+l;var d=this._x1,g=this._y1,k=c-a,f=e-b,m=d-a,p=g-b,n=m*m+p*p;if(0>l)throw Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=b);else if(1E-6<n)if(1E-6<Math.abs(p*
k-f*m)&&l){c-=d;e-=g;var v=k*k+f*f;g=Math.sqrt(v);d=Math.sqrt(n);n=l*Math.tan((h-Math.acos((v+n-(c*c+e*e))/(2*g*d)))/2);d=n/d;n/=g;1E-6<Math.abs(d-1)&&(this._+="L"+(a+d*m)+","+(b+d*p));this._+="A"+l+","+l+",0,0,"+ +(p*c>m*e)+","+(this._x1=a+n*k)+","+(this._y1=b+n*f)}else this._+="L"+(this._x1=a)+","+(this._y1=b)},arc:function(a,b,c,e,f,q){a=+a;b=+b;c=+c;var d=c*Math.cos(e),g=c*Math.sin(e),k=a+d,n=b+g,p=1^q;e=q?e-f:f-e;if(0>c)throw Error("negative radius: "+c);if(null===this._x1)this._+="M"+k+","+
n;else if(1E-6<Math.abs(this._x1-k)||1E-6<Math.abs(this._y1-n))this._+="L"+k+","+n;c&&(0>e&&(e=e%m+m),e>l?this._+="A"+c+","+c+",0,1,"+p+","+(a-d)+","+(b-g)+"A"+c+","+c+",0,1,"+p+","+(this._x1=k)+","+(this._y1=n):1E-6<e&&(this._+="A"+c+","+c+",0,"+ +(e>=h)+","+p+","+(this._x1=a+c*Math.cos(f))+","+(this._y1=b+c*Math.sin(f))))},rect:function(a,b,c,e){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +c+"v"+ +e+"h"+-c+"Z"},toString:function(){return this._}};b.a=f},function(e,b,a){a(1);
a(100);a(101);a(5)},function(e,b,a){b.a=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}},function(e,b,a){b.a=function(a){return a}},function(e,b,a){a(33);a(32);a(34)},function(e,b,a){a(4);a(36);a(1);a(21);a(35)},function(e,b,a){a(4);a(37);a(38);a(39);a(40);a(41);a(42);a(43);a(1)},function(e,b,a){a(11);a(12)},function(e,b,a){a(12)},function(e,b,a){function c(a,b){this._basis=new f.a(a);this._beta=b}var f=a(12);c.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var a=
this._x,b=this._y,c=a.length-1;if(0<c)for(var d=a[0],e=b[0],k=a[c]-d,f=b[c]-e,n=-1,q;++n<=c;)q=n/c,this._basis.point(this._beta*a[n]+(1-this._beta)*(d+q*k),this._beta*b[n]+(1-this._beta)*(e+q*f));this._x=this._y=null;this._basis.lineEnd()},point:function(a,b){this._x.push(+a);this._y.push(+b)}};(function m(a){function b(b){return 1===a?new f.a(b):new c(b,a)}b.beta=function(a){return m(+a)};return b})(.85)},function(e,b,a){function c(a,b){this._context=a;this._alpha=b}var f=a(44);e=a(11);var h=a(22);
c.prototype={areaStart:e.a,areaEnd:e.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;if(this._point){var d=this._x2-a,c=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(d*d+c*c,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=b;break;default:Object(h.a)(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};(function l(a){function b(b){return a?new c(b,a):new f.a(b,0)}b.alpha=function(a){return l(+a)};return b})(.5)},function(e,b,a){function c(a,b){this._context=a;this._alpha=b}var f=a(45),h=a(22);c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=
this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;if(this._point){var d=this._x2-a,c=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(d*d+c*c,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=
4;default:Object(h.a)(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};(function l(a){function b(b){return a?new c(b,a):new f.a(b,0)}b.alpha=function(a){return l(+a)};return b})(.5)},function(e,b,a){a(11)},function(e,b,a){function c(a,b,c){var d=a._x1-a._x0;b-=a._x1;var e=(a._y1-a._y0)/(d||0>b&&-0);a=(c-a._y1)/(b||0>d&&-0);return((0>e?-1:1)+(0>
a?-1:1))*Math.min(Math.abs(e),Math.abs(a),.5*Math.abs((e*b+a*d)/(d+b)))||0}function f(a,b){var d=a._x1-a._x0;return d?(3*(a._y1-a._y0)/d-b)/2:b}function h(a,b,c){var d=a._x0,e=a._x1,g=a._y1,h=(e-d)/3;a._context.bezierCurveTo(d+h,a._y0+h*b,e-h,g-h*c,e,g)}function m(a){this._context=a}function l(a){this._context=a}m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,
this._y1);break;case 3:h(this,this._t0,f(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){var d=NaN;a=+a;b=+b;if(a!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;h(this,f(this,d=c(this,a,b)),d);break;default:h(this,this._t0,d=c(this,a,b))}this._x0=this._x1;this._x1=a;this._y0=this._y1;
this._y1=b;this._t0=d}}};(function(a){this._context=new l(a)}.prototype=Object.create(m.prototype)).point=function(a,b){m.prototype.point.call(this,b,a)};l.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,e,h,f){this._context.bezierCurveTo(b,a,e,c,f,h)}}},function(e,b,a){},function(e,b,a){},function(e,b,a){a(36);a(1);a(6);a(7)},function(e,b,a){a(6)},function(e,b,a){},
function(e,b,a){a(6)},function(e,b,a){a(6)},function(e,b,a){a(23)},function(e,b,a){a(7);a(23)},function(e,b,a){a(7)},function(e,b,a){function c(a){a.frameVertexCount=Math.min(a.frameVertexCount+1,256);32<a.frameVertexCount&&(a.frameVertexCount=Object(f.o)(a.frameVertexCount,!0));a.updateFrame();a.regionManager.setFrame(a.frame);a.updateView()}var f=a(3);b.a={KeyA:{helpText:"a: add slider",callback:function(a){a.weights.push(a.weights[a.weights.length-1]);a.regionManager.setWeights(a.weights);a.weightsInput.value=
a.weights.join(" ")}},KeyD:{helpText:"d: remove slider",callback:function(a){1<a.weights.length&&(a.weights.pop(),a.regionManager.setWeights(a.weights),a.weightsInput.value=a.weights.join(" "))}},KeyC:{helpText:"c: toggle un/constrained",callback:function(a){a.constrain=!a.constrain;a.regionManager.setConstrained(a.constrain);a.updateView()}},KeyS:{helpText:"s: toggle 1x1/2x1",callback:function(a){a.ratio=1===a.ratio?.5:1;a.resize();a.updateFrame();a.regionManager.setFrame(a.frame);a.updateView()}},
KeyX:{helpText:"x: show/hide polygons areas",callback:function(a){a.drawPolygons=!a.drawPolygons}},KeyZ:{helpText:"z: show/hide slider knobs",callback:function(a){a.drawPoints=!a.drawPoints;a.updateView();a.drawPoints&&(a.drag(a.circlesU,!1),a.drag(a.circlesV,!0))}},"+":{helpText:"+/-: add/remove vertices (3-32, 64, 128, 256)",callback:c},"=":{callback:c},"-":{callback:function(a){a.frameVertexCount=Math.max(a.frameVertexCount-1,3);32<a.frameVertexCount&&(a.frameVertexCount=Object(f.o)(a.frameVertexCount,
!1));a.updateFrame();a.regionManager.setFrame(a.frame);a.updateView()}},Enter:{helpText:"Enter: export svg",callback:function(){var a=document.getElementsByTagName("svg")[0].outerHTML;a=new Blob(['<?xml version="1.0" encoding="UTF-8"?>',a],{type:"image/svg+xml;charset=utf-8"});a=URL.createObjectURL(a);var b=document.createElement("a");b.href=a;b.download="area-scales."+(new Date).toISOString().replace(/[:]/g,"-")+".svg";document.body.appendChild(b);b.click();document.body.removeChild(b)}}}},function(e,
b,a){a.d(b,"a",function(){return c});var c=function(){function a(a,b){var c=this;this.app=a;this.keyBindings=b;this.helpTexts=Object.keys(this.keyBindings).map(function(a){return c.keyBindings[a]}).map(function(a){return a.helpText})}a.prototype.processKey=function(a){this.keyBindings[a.key]&&this.keyBindings[a.code]&&a.key!==a.code&&console.warn('Duplicate key/code bindings: ["'+a.key+'", "'+a.code+'"].');var b=this.keyBindings[a.key]||this.keyBindings[a.code];b&&b.callback&&b.callback(this.app,
a)};return a}()},function(e,b,a){b.a=function(a){function b(){r=!0}function e(a){h=new f.a(a)}function k(a){a=a.filter(function(a){return 0<a});for(var b=0,d=a.length-1;0<=d;--d)b+=a[d],a[d]/=b;a.pop();return a}function l(){q.forEach(function(a,b,d){d=0<b?d[b-1].rest:h;var c=t.getConstraint(d,a.weight);if(c&&w&&0<b||void 0===a.alpha)a.alpha=c.constrain(a.alpha,a.oldAlpha);Object.assign(a,d.divide(a.alpha,a.weight));a.oldAlpha=a.alpha})}var h,q=[],r,t=new m,w=!1;e(a);return{getGeometry:Object(c.m)(function(){var a=
q.map(function(a,b){return{points:a.main.points,cut:a.cut,index:b}}),b=q.length-1;if(0<=b){var d=q[b];a.push({points:d.rest.points,cut:d.cut,index:b})}return a},[function(){r&&(l(),r=!1)}]),setAlpha:Object(c.l)(function(a,b){q[a].alpha=b},[b]),setFrame:Object(c.l)(e,[b]),setWeights:Object(c.l)(function(a){q=k(a).map(function(a,b){return Object.assign(q[b]||{alpha:0===b?0:void 0},{weight:a})})},[b]),setConstrained:Object(c.l)(function(a){w=a},[b]),updateAlphas:Object(c.l)(function(a){q.forEach(function(b,
d){b.alpha=a(b.alpha,d)})},[b])}};var c=a(3),f=a(125),h=function(){function a(a,b,c,e){this.from=a;this.to=b;this.minusFrom=c;this.minusTo=e}a.prototype.constrain=function(a,b){if(void 0===a)return.5*(this.to-this.from);if(0<=a)return Object(c.c)(a,this.from,this.to);a=-Object(c.c)(Math.abs(a),this.minusFrom,this.minusTo);var d=[this.minusFrom,this.minusTo];return 0<=d.indexOf(-b)&&0<=d.indexOf(-a)?b:a};return a}(),m=function(){function a(){}a.prototype.getConstraint=function(a,b){var d=a.vertices[0].alpha,
c=a.vertices[1].alpha,e=a.divide(d,b);a=a.divide(c,b);return new h(d,c,e.cut.region.toAlpha(e.cut.sb),a.cut.region.toAlpha(a.cut.sb))};return a}()},function(e,b,a){a.d(b,"a",function(){return h});var c=a(3),f=function(){function a(){}Object.defineProperty(a.prototype,"a",{get:function(){return this.region.toPoint(this.sa)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"b",{get:function(){return this.region.toPoint(this.sb)},enumerable:!0,configurable:!0});return a}(),h=function(){function a(a){var b=
this;this._vertices=[];this._points=[];if(0!==a.length){this._points=a;var e=0,f=[],l;a.forEach(function(a){e+=Object(c.d)(l||a,a);f.push(e);l=a});e+=Object(c.d)(a[0],a[a.length-1]);f.push(e);f.forEach(function(d,c){b._vertices.push({point:a[c%a.length],alpha:d/e})});this.centroid=Object(c.f)(this.points)}}Object.defineProperty(a.prototype,"vertices",{get:function(){return this._vertices},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"points",{get:function(){return this._points},
enumerable:!0,configurable:!0});a.prototype.divide=function(b,d){var e=this.makeCut(b,d),k=e[0];e=e[1];var l=this.toPoint(k),h=this.toPoint(e),m=[];0<e.beta&&m.push(h);1>k.beta&&m.push(l);var r=m.concat(this.pointsBetween(k.second,e.first));m=[];0<k.beta&&m.push(l);1>e.beta&&m.push(h);l=m.concat(this.pointsBetween(e.second,k.first));0===k.beta&&Object(c.n)(l,1);h=new f;Object.assign(h,{region:this,sa:k,sb:e});return{cut:h,main:new a(r),rest:new a(l),alpha:b,weight:d}};a.prototype.toPoint=function(a){return Object(c.g)(this._vertices[a.first].point,
this._vertices[a.second].point,a.beta)};a.prototype.toAlpha=function(a){var b=this._vertices,c=b[a.first].alpha;return c+a.beta*(b[(a.first+1)%b.length].alpha-c)};a.prototype.segmentPointAt=function(a){a=Object(c.b)(a,0,1);for(var b=0,e=this._vertices,f=e.length;b<f-1&&a>=e[b].alpha;)++b;var h=e[b-1].alpha;return{first:(b-1)%f,second:b%f,beta:(a-h)/(e[b].alpha-h)}};a.prototype.radialProject=function(a){for(var b=0;b<this.points.length;++b){var e=this.centroid,f=this.points[b],h=this.points[(b+1)%
this.points.length],l=Object(c.a)(e,f,h);f=Object(c.a)(e,f,a);e=Object(c.a)(e,a,h);if(Object(c.h)(l,f,e))return{first:b,second:(b+1)%this.points.length,beta:f/(f+e)}}};a.prototype.project=function(a){var b=this.points[1],e=Object(c.p)(this.points[0],b);a=Object(c.p)(a,b);b=Object(c.e)(Object(c.k)(e),Object(c.k)(a));return{beta:1-Object(c.b)(b*Object(c.i)(a)/Object(c.i)(e),0,1),first:0,second:1}};a.prototype.makeCut=function(a,b){var c=a;0>a&&(c=-a,b=1-b);c=this.segmentPointAt(c);for(var d=this.getAccumArea(this.toPoint(c),
c.second),e=0,f=this._vertices.length;b>d[e%f];)++e;var h=d[(e-1+f)%f],l=e+c.second;d={first:(l-1+f)%f,second:l%f,beta:(b-h)/(d[(e+f)%f]-h)};return 0<=a?[c,d]:[d,c]};a.prototype.pointsBetween=function(a,b){var c=[],d=this._vertices.length;for(a%=d;a!=(b+1)%d;a=(a+1)%d)c.push(this._vertices[a].point);return c};a.prototype.getAccumArea=function(a,b){for(var d=0,e=this._vertices.length,f=[0],h=1;h<e;++h)d+=Math.abs(Object(c.a)(a,this._vertices[(b+h-1)%e].point,this._vertices[(b+h)%e].point)),f.push(d);
return f.map(function(a){return a/d})};return a}()}]);</script></body></html>